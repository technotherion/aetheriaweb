<html xmlns="http://www.w3.org/1999/xhtml"><head>
    <meta charset="utf-8" />
    <title>Aetheria Main</title>
    <meta name="description" content="Aetheria Main" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aframe/0.7.1/aframe.js"></script>
  </head>
  <body class="a-body ">
    <!-- script written by ____(donmccurdy?) to pass on the opacity of the model to A-Frame.-->
     <script type="text/javascript">
     AFRAME.registerComponent('model-opacity', {
  schema: {default: 1.0},
  init: function () {
    this.el.addEventListener('model-loaded', this.update.bind(this));

<!-- https://aframe.io/docs/0.7.0/components/raycaster.html -->
    AFRAME.registerComponent('collider-check', {
  dependencies: ['raycaster'],
  init: function () {
    this.el.addEventListener('raycaster-intersected', function () {
      console.log('Player hit something!');
    });
  }
});
  },
  update: function () {
    var mesh = this.el.getObject3D('mesh');
    var data = this.data;
    if (!mesh) { return; }
    mesh.traverse(function (node) {
      if (node.isMesh) {
        node.material.opacity = data;
        node.material.transparent = data < 1.0;
        node.material.needsUpdate = true;
      }
    });
  }
});</script>
    <a-scene class="fullscreen" inspector="" keyboard-shortcuts="" screenshot="" vr-mode-ui="">
      <a-entity gltf-model="model/invertedsphere.glb" scale="8 8 8"></a-entity>
     <a-entity gltf-model="model/invertedsphere9.glb" scale="10 10 10" rotation="0 160 0" model-opacity="1">
        <a-animation attribute="model-opacity"
                    dur="13000"
                    from="0"
                    to="0.8"
                    direction="alternate"
                    repeat="indefinite"></a-animation>
      </a-entity>
      <a-entity rotation="0 0 0">
        <a-plane src="model/tex/floor.png" height="10" width="10" rotation="-90 -2 0" material="transparent:true"></a-plane>
        <a-animation attribute="rotation" dur="50000" easing="linear" fill="forwards" to="0 360 0" repeat="indefinite"></a-animation>
      </a-entity>
        <a-plane src="model/tex/aetheria.png" height="1" width="4.25" position="0 3 -4" material="transparent:true"></a-plane>
        <a-plane src="model/tex/looktostart.png" height="2" width="3.75" position="0 1.5 -4" material="transparent:true"></a-plane>

        <a-entity id="player" collider-check>
  <a-entity raycaster="objects: .collidable" position="0 -0.9 0" rotation="90 0 0"></a-entity>
</a-entity>
<a-entity class="collidable" geometry="primitive: box" position="1 0 0"></a-entity>
    </a-scene>






</body></html>
